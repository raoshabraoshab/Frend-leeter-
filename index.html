<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Letters from Vikrant ‚úâÔ∏è</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:Inter,system-ui,Arial;
      background: linear-gradient(135deg,#19165b,#6b3fa0,#8b5cd6);
      min-height:100vh;display:flex;align-items:center;justify-content:center;
      padding:30px;color:#f6f7fb;
    }
    .container{max-width:800px;width:100%}
    .panel{background:rgba(255,255,255,0.08);padding:20px;border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,0.4)}
    h1{text-align:center;margin-bottom:15px}
    input,textarea{width:100%;margin:6px 0;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05);color:#fff}
    button{padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:600}
    .primary{background:#6b3fa0;color:#fff}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.3);color:#fff}
    .letterBox{margin-top:20px;padding:20px;background:#fff;color:#121;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.3)}
    .letterBox h2{margin-bottom:8px}
    .signature{margin-top:10px;font-weight:700}
  </style>
</head>
<body>
<div class="container">
  <div class="panel">
    <h1>üíå Letters from Vikrant</h1>

    <!-- Search -->
    <input id="nameInput" type="text" placeholder="Type your name..." />
    <button class="primary" id="searchBtn">Find Letter</button>
    <button class="ghost" id="clearBtn">Clear</button>

    <!-- Result -->
    <div id="output" class="letterBox" style="display:none"></div>

    <!-- Add / Edit -->
    <h3 style="margin-top:20px">Add or Update Your Info</h3>
    <form id="addForm">
      <input id="fName" placeholder="Full name" required />
      <input id="fBirthday" placeholder="Birthday (e.g. Aug 28)" />
      <input id="fColor" placeholder="Favorite color" />
      <input id="fHobbies" placeholder="Hobbies (comma separated)" />
      <textarea id="fLetter" rows="4" placeholder="Custom letter (optional)"></textarea>
      <div style="margin-top:10px;display:flex;gap:10px">
        <button type="submit" class="primary">Save</button>
        <button type="button" id="resetBtn" class="ghost">Reset</button>
      </div>
    </form>
  </div>
</div>

<script>
const storageKey = "letters_from_vikrant_v2";
const defaultFriends = [
  { name:"Nancy",birthday:"March 3",favoriteColor:"Pink",hobbies:["painting","music"],letter:"Dear Nancy,\n\nTumhari muskaan har jagah roshni bhar deti hai.\n\nPyar ke saath,\nVikrant"},
  { name:"Mantu",birthday:"July 9",favoriteColor:"Black",hobbies:["cricket","coding"],letter:"Hey Mantu,\n\nHamare cricket ke matches aur coding ke lamhe mujhe hamesha yaad rehte hain.\n\nYours,\nVikrant"},
  { name:"Deep",birthday:"Oct 2",favoriteColor:"Red",hobbies:["photography","travel"],letter:"Dear Deep,\n\nTumhare camera se li gayi tasveerein hamesha dil ko chhoo jaati hain.\n\nBest,\nVikrant"},
  { name:"Ekta",birthday:"Dec 12",favoriteColor:"Purple",hobbies:["debate","reading"],letter:"Dear Ekta,\n\nTumhari soch aur pyaar ek alag hi chamak rakhte hain.\n\nAlways,\nVikrant"},
  { name:"Chhavi",birthday:"Aug 15",favoriteColor:"Yellow",hobbies:["dancing"],letter:"Dear Chhavi,\n\nTumhari shararat aur tumhari hasi ghar ko hamesha zinda dil banati hai.\n\nLove,\nVikrant"},
  { name:"Rishabh",birthday:"Apr 10",favoriteColor:"Blue",hobbies:["football","gaming"],letter:"Yo Rishabh,\n\nTu ground pe ho to energy hi alag level pe hoti hai!\n\nCheers bro,\nVikrant"}
];

let friendsData = JSON.parse(localStorage.getItem(storageKey) || "null") || defaultFriends.slice();

function normalize(s){return (s||"").trim().toLowerCase()}
function save(){localStorage.setItem(storageKey,JSON.stringify(friendsData))}
function findFriend(name){return friendsData.find(f=>normalize(f.name)===normalize(name))}

function showLetter(name){
  const f = findFriend(name);
  const out = document.getElementById("output");
  if(!f){
    out.style.display="block";
    out.innerHTML=`<h2>Sorry, ${name}</h2><p>I don‚Äôt have a letter for you yet. Add your info below!</p>`;
    return;
  }
  const letter = f.letter || `Hello ${f.name},\n\nI still remember your birthday on ${f.birthday}. Your love for ${(f.hobbies||[]).join(", ")} and your bright ${f.favoriteColor} vibe inspire me.\n\nWith warmth,\nVikrant`;
  out.style.display="block";
  out.innerHTML=`<h2>To ${f.name},</h2>`+letter.split("\n").map(l=>`<p>${l}</p>`).join("")+`<div class="signature">‚Äî Vikrant</div>`;
}

document.getElementById("searchBtn").onclick=()=>showLetter(document.getElementById("nameInput").value);
document.getElementById("clearBtn").onclick=()=>{document.getElementById("nameInput").value="";document.getElementById("output").style.display="none"};

document.getElementById("addForm").onsubmit=(e)=>{
  e.preventDefault();
  const newF={
    name:document.getElementById("fName").value.trim(),
    birthday:document.getElementById("fBirthday").value.trim(),
    favoriteColor:document.getElementById("fColor").value.trim(),
    hobbies:document.getElementById("fHobbies").value.split(",").map(x=>x.trim()).filter(Boolean),
    letter:document.getElementById("fLetter").value.trim()
  };
  const idx=friendsData.findIndex(f=>normalize(f.name)===normalize(newF.name));
  if(idx>=0) friendsData[idx]=newF; else friendsData.push(newF);
  save();
  alert("Saved! Now search your name to see the letter.");
  e.target.reset();
};

document.getElementById("resetBtn").onclick=()=>{
  if(confirm("Reset to default friends?")){
    friendsData=defaultFriends.slice();
    save();
    alert("Reset done.");
  }
};
</script>
</body>
</html>

